import{a as l,j as e}from"./index-D7dBKeHx.js";import{r as c,ac as x,a2 as b,ad as f,a6 as r}from"./ui-libs-DRx-SISE.js";import"./vendor-qkC6yhPU.js";const w=()=>{const[t,n]=c.useState(!0),[d,i]=c.useState(!1);c.useEffect(()=>{g()},[]);const g=async()=>{try{const s=await l.getGlobalSetting("show_no_image_products");n(s.value!=="false")}catch(s){console.error("Error fetching setting:",s)}},u=async()=>{const s=!t,a=t;n(s),i(!0);try{await l.updateGlobalSetting("show_no_image_products",s?"true":"false"),r.success(`Visibilidad actualizada: ${s?"Todos los productos":"Solo con imágenes"}`)}catch(o){console.error("Error updating setting:",o),n(a),r.error("Error al actualizar la configuración")}finally{i(!1)}},m=async()=>{try{const s=await l.downloadMissingImagesReport(),a=window.URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download="reporte_faltantes.xlsx",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(a),document.body.removeChild(o),r.success("Reporte descargado correctamente")}catch(s){console.error(s),r.error("Error al descargar el reporte")}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded shadow border border-gray-200 flex flex-col items-center text-center",children:[e.jsx("div",{className:"bg-blue-100 p-4 rounded-full mb-4",children:e.jsx(x,{size:40,className:"text-blue-600"})}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Productos Sin Imágenes"}),e.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Genera un reporte Excel con todos los productos activos que no tienen imágenes asignadas."}),e.jsx("button",{onClick:m,className:"bg-blue-600 text-white px-4 py-2 rounded font-bold hover:bg-blue-700 transition w-full",children:"Descargar Excel"})]}),e.jsxs("div",{className:"bg-white p-6 rounded shadow border border-gray-200 flex flex-col items-center text-center",children:[e.jsx("div",{className:`p-4 rounded-full mb-4 transition-colors ${t?"bg-green-100":"bg-gray-100"}`,children:t?e.jsx(b,{size:40,className:"text-green-600"}):e.jsx(f,{size:40,className:"text-gray-500"})}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Visibilidad Global"}),e.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Controla si los clientes pueden ver productos que no tienen imagen cargada."}),e.jsxs("div",{className:"flex items-center justify-center gap-3 w-full",children:[e.jsx("span",{className:`text-sm font-medium ${t?"text-gray-500":"text-gray-900"}`,children:"Ocultar sin imagen"}),e.jsx("button",{onClick:u,disabled:d,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${t?"bg-green-500":"bg-gray-200"}`,children:e.jsx("span",{className:`${t?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})}),e.jsx("span",{className:`text-sm font-medium ${t?"text-gray-900":"text-gray-500"}`,children:"Mostrar todo"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-4",children:t?"Los clientes ven todos los productos del catálogo.":"Los clientes solo ven productos con foto."})]})]})};export{w as default};
