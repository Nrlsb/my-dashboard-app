import{i as y,u as P,b as v,j as e,L as C,a as S}from"./index-7sYJyTLX.js";import{r as a}from"./ui-libs-D3puNWdD.js";import"./vendor-qkC6yhPU.js";const E=20,D=()=>{const{groupCode:r}=y(),n=P(),{user:m}=v(),[l,g]=a.useState([]),[p,d]=a.useState(!0),[i,u]=a.useState(null),[h,b]=a.useState(""),[s,f]=a.useState(1),[c,j]=a.useState(0);a.useEffect(()=>{if(!r)return;(async()=>{try{d(!0);const o=await S.fetchProductsByGroup(r,s);g(o.products),b(o.groupName),j(Math.ceil(o.totalProducts/E)),u(null)}catch(o){u(`No se pudieron cargar los productos para el grupo ${r}.`),console.error(o)}finally{d(!1)}})()},[r,s,m]);const x=t=>{t>0&&t<=c&&f(t)},N=t=>{n(`/product-detail/${t}`)};return p?e.jsx(C,{text:"Cargando productos..."}):i?e.jsx("div",{className:"p-4 text-red-500 text-center",children:i}):e.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[e.jsx("button",{onClick:()=>n("/dashboard"),className:"mb-4 text-blue-500 hover:underline",children:"← Volver al Dashboard"}),e.jsxs("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:["Categoría:"," ",e.jsx("span",{className:"text-blue-600",children:h||r})]}),l.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:l.map(t=>e.jsxs("div",{className:"border p-4 rounded-lg shadow-md bg-white flex flex-col justify-between cursor-pointer",onClick:()=>N(t.id),children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-800 h-12",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.brand})]}),e.jsx("p",{className:"text-lg font-bold mt-2 text-right text-blue-700",children:t.formattedPrice})]},t.id))}),c>1&&e.jsxs("div",{className:"flex justify-center items-center mt-8",children:[e.jsx("button",{onClick:()=>x(s-1),disabled:s===1,className:"px-4 py-2 mx-1 bg-gray-300 text-gray-800 rounded disabled:opacity-50",children:"Anterior"}),e.jsxs("span",{className:"px-4 py-2",children:["Página ",s," de ",c]}),e.jsx("button",{onClick:()=>x(s+1),disabled:s===c,className:"px-4 py-2 mx-1 bg-gray-300 text-gray-800 rounded disabled:opacity-50",children:"Siguiente"})]})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"No se encontraron productos en esta categoría."})})]})};export{D as default};
