import{c as f,j as e,r as d,u as v,b as w,a as b,d as N,S as C}from"./index-CxCATs6t.js";import{u as k}from"./useQuery-_d8kpoHO.js";import{D as E}from"./dollar-sign-D0mD96qd.js";import"./useBaseQuery-ByPoI8k-.js";const D=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],S=f("banknote",D);const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],j=f("circle-question-mark",_);const A=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I=f("clock",A);const $=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],L=f("gift",$),M=({title:r,subTitle:i,icon:a,tag:h,onClick:p,isLast:c,...u})=>{const o=`${r||""} ${i||""}`.toUpperCase();let n="hover:bg-gray-50",s="text-espint-blue bg-gray-50 group-hover:bg-white/20 group-hover:text-white group-hover:scale-110",l="text-espint-blue group-hover:text-espint-blue",t="text-gray-400 group-hover:text-gray-600",x="text-espint-green group-hover:text-espint-green";o.includes("PEDIDOS")?(n="hover:bg-espint-magenta",l="text-espint-blue group-hover:text-white",t="text-gray-400 group-hover:text-white/90",x="text-espint-green group-hover:text-white"):o.includes("PRECIO")?(n="hover:bg-[#FFC20E]",l="text-espint-blue group-hover:text-white",t="text-gray-400 group-hover:text-white/90",x="text-espint-green group-hover:text-white"):o.includes("CUENTA")||o.includes("SALDO")?(n="hover:bg-espint-blue",l="text-espint-blue group-hover:text-white",t="text-gray-400 group-hover:text-white/90",x="text-espint-green group-hover:text-white"):o.includes("CONSULTA")||o.includes("CLIENTE")?(n="hover:bg-espint-magenta",l="text-espint-blue group-hover:text-white",t="text-gray-400 group-hover:text-white/90",x="text-espint-green group-hover:text-white"):(o.includes("OFERTAS")||o.includes("PEDIDO"))&&(n="hover:bg-espint-green",l="text-espint-blue group-hover:text-white",t="text-gray-400 group-hover:text-white/90",x="text-espint-green group-hover:text-white");let m=r;return(o.includes("NUEVO PEDIDO")||o.includes("PEDIDO")&&!o.includes("HISTORICO"))&&(m="CREAR PEDIDO"),e.jsxs("div",{onClick:p,className:`
        group relative flex flex-col items-center justify-center p-4 md:p-6 h-32 md:h-40
        cursor-pointer transition-all duration-500 ease-in-out
        bg-white
        w-1/2 md:w-auto md:flex-1
        ${n}
        border-r border-b border-gray-100 last:border-r-0
        md:border-b-0 md:border-r md:last:border-r-0
      `,...u,children:[h&&e.jsx("span",{className:"absolute top-0 right-0 px-3 py-1 text-xs font-bold text-white bg-espint-magenta rounded-bl-lg z-10",children:h}),e.jsx("div",{className:`p-3 rounded-full mb-3 transition-all duration-300 ${s}`,children:e.jsx(a,{className:"w-6 h-6 md:w-8 md:h-8"})}),e.jsx("h3",{className:`text-xs font-bold tracking-wider uppercase mb-1 text-center transition-colors duration-300 ${t}`,children:m}),e.jsxs("div",{className:"max-h-0 opacity-0 group-hover:max-h-20 group-hover:opacity-100 transition-all duration-500 overflow-hidden flex flex-col items-center",children:[e.jsx("p",{className:`text-sm md:text-base font-semibold text-center px-2 transition-colors duration-300 ${l}`,children:i}),e.jsxs("div",{className:`mt-2 text-xs font-medium flex items-center transition-colors duration-300 ${x}`,children:["Acceder ",e.jsx("span",{className:"ml-1",children:"→"})]})]})]})},g=({className:r,...i})=>e.jsx("div",{className:`animate-pulse bg-gray-200 rounded-md ${r}`,...i}),O=()=>e.jsxs("div",{className:"flex-none w-44 bg-white rounded-lg overflow-hidden border border-gray-200",children:[e.jsx(g,{className:"w-full h-32"}),e.jsx("div",{className:"p-4 space-y-2",children:e.jsx(g,{className:"h-4 w-3/4"})})]}),y=({title:r})=>e.jsxs("div",{className:"relative py-4 mt-8",children:[r&&e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:r}),e.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4",children:Array(6).fill(0).map((i,a)=>e.jsx(O,{},a))})]}),P=()=>{const[r,i]=d.useState([]),[a,h]=d.useState(!0),[p,c]=d.useState(null),u=d.useRef(null),o=v(),{user:n}=w(),s=d.useCallback(async()=>{try{h(!0);const t=await b.getAccessories(),x=n&&n.restricted_groups?t.filter(m=>!n.restricted_groups.includes(m.group_code)):t;u.current&&u.current.scrollTo({left:0,behavior:"auto"}),i(x),h(!1)}catch(t){c("No se pudieron cargar los accesorios."),console.error(t),h(!1)}},[n]);d.useEffect(()=>{s()},[s]),d.useEffect(()=>{const t=u.current;if(!t||a)return;const x=setInterval(()=>{t.scrollLeft+t.offsetWidth>=t.scrollWidth-1?s():t.scrollBy({left:t.offsetWidth,behavior:"smooth"})},15e3);return()=>clearInterval(x)},[r,a,s]);const l=t=>{o(`/product-detail/${t}`)};return a&&r.length===0?e.jsx(y,{title:"Accesorios"}):p?e.jsx("div",{className:"p-4 text-red-500",children:p}):r.length===0?null:e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Accesorios"}),e.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4",ref:u,children:r.map(t=>e.jsxs("div",{className:"flex-none w-40 bg-white rounded-lg overflow-hidden transition-all duration-200 ease-in-out cursor-pointer hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group",onClick:()=>l(t.id),children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-32 object-contain p-2"}),e.jsx("div",{className:"p-3",children:e.jsx("h3",{className:"text-sm font-bold text-espint-blue whitespace-nowrap truncate",children:t.name})})]},t.id))}),a&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-gray-900/70 flex justify-center items-center z-10 rounded-lg",children:e.jsx(N,{text:"Cargando..."})})]})},R=()=>{const[r,i]=d.useState([]),[a,h]=d.useState(!0),[p,c]=d.useState(null),u=d.useRef(null),o=v();d.useEffect(()=>{(async()=>{try{h(!0);const l=await b.getProductGroupsDetails();i(l),h(!1)}catch(l){c("No se pudieron cargar los grupos de productos."),console.error(l),h(!1)}})()},[]),d.useEffect(()=>{const s=u.current;if(!s||a)return;const l=setInterval(()=>{s.scrollLeft+s.offsetWidth>=s.scrollWidth-1?s.scrollTo({left:0,behavior:"smooth"}):s.scrollBy({left:s.offsetWidth,behavior:"smooth"})},5e3);return()=>clearInterval(l)},[r,a]);const n=s=>{s.type==="custom_collection"?o(`/collection/${s.collection_id}`):o(`/category/${s.group_code}`)};return a?e.jsx(y,{title:"Categorías"}):p?e.jsx("div",{className:"p-4 text-red-500",children:p}):r.length===0?null:e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Categorías"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 md:flex md:overflow-x-auto md:gap-4 md:pb-4",ref:u,children:r.map(s=>e.jsxs("div",{className:"flex-none w-full md:w-44 bg-white rounded-lg overflow-hidden cursor-pointer transition-all duration-200 ease-in-out hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group flex flex-col h-auto aspect-square md:aspect-auto md:h-auto",onClick:()=>n(s),children:[s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-32 md:h-32 object-cover"}):e.jsx("div",{className:"w-full h-full md:h-32 bg-[#183B64] flex items-center justify-center p-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-white opacity-80",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("div",{className:"p-3 md:p-4 flex-grow flex items-center justify-center md:block bg-white",children:e.jsx("h3",{className:"text-sm md:text-base font-bold text-espint-blue text-center md:text-left md:whitespace-nowrap md:overflow-hidden md:text-ellipsis line-clamp-2 md:line-clamp-1",children:s.name})})]},s.id||s.group_code))})]})},T=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 h-32 flex flex-col justify-between border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(g,{className:"h-4 w-24"}),e.jsx(g,{className:"h-3 w-16"})]}),e.jsx(g,{className:"h-8 w-8 rounded-full"})]}),e.jsx(g,{className:"h-5 w-12 rounded-full self-end"})]}),W=()=>e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6",children:Array(10).fill(0).map((r,i)=>e.jsx(T,{},i))}),z={ShoppingCart:C,Clock:I,DollarSign:E,Gift:L,Banknote:S,HelpCircle:j},U=()=>{const{user:r}=w(),i=v(),{data:a,isLoading:h,error:p}=k({queryKey:["dashboardPanels"],queryFn:()=>b.getDashboardPanels()});return h?e.jsx(W,{}):p?e.jsx("div",{className:"text-center p-8 text-red-500",children:"No se pudieron cargar los paneles del dashboard."}):e.jsx("div",{className:"flex flex-wrap w-full bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:a.map((c,u)=>e.jsx(M,{title:c.title,subTitle:c.subtitle,icon:z[c.icon]||j,tag:c.tag,isLast:u===a.length-1,onClick:()=>i(`/${c.navigation_path.startsWith("/")?c.navigation_path.substring(1):c.navigation_path}`)},c.id))})},F=()=>e.jsx("div",{className:"font-sans",children:e.jsxs("main",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[e.jsx(U,{}),e.jsx(R,{}),e.jsx(P,{})]})});export{F as default};
