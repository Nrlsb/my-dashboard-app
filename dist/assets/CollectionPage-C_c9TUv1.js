import{i as j,u as N,j as e,L as v,a as u}from"./index-C9spfAEE.js";import{r as a}from"./ui-libs-Bu6C6VT7.js";import"./vendor-qkC6yhPU.js";const C=()=>{const{collectionId:s}=j(),r=N(),[o,x]=a.useState([]),[g,c]=a.useState(!0),[n,i]=a.useState(null),[h,p]=a.useState("Colección");a.useEffect(()=>{if(!s)return;(async()=>{try{c(!0);const l=await u.getCustomCollectionProducts(s);console.log(`[CollectionPage] Fetched products for collection ${s}:`,l),x(l);try{const d=(await u.getProductGroupsDetails()).find(m=>String(m.id)===String(s)&&m.type==="custom_collection");d&&p(d.name)}catch{}i(null)}catch(l){i("No se pudieron cargar los productos de la colección."),console.error(l)}finally{c(!1)}})()},[s]);const f=t=>{r(`/product-detail/${t}`)};return g?e.jsx(v,{text:"Cargando colección..."}):n?e.jsx("div",{className:"p-4 text-red-500 text-center",children:n}):e.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[e.jsx("button",{onClick:()=>r("/dashboard"),className:"mb-4 text-blue-500 hover:underline",children:"← Volver al Dashboard"}),e.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:h}),o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o.map(t=>e.jsxs("div",{className:"border p-4 rounded-lg shadow-md bg-white flex flex-col justify-between cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>f(t.id),children:[e.jsx("div",{className:"w-full h-48 mb-4 bg-gray-100 rounded-md flex items-center justify-center overflow-hidden",children:t.imageUrl?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-contain"}),e.jsx("span",{className:"absolute bottom-0 right-0 bg-black/50 text-white text-[8px] px-1.5 py-0.5 pointer-events-none uppercase tracking-wider font-medium rounded-tl-sm backdrop-blur-sm",children:"Imagen ilustrativa"})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Sin imagen"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-gray-800 h-12 overflow-hidden",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.brand})]}),e.jsx("p",{className:"text-lg font-bold mt-2 text-right text-blue-700",children:t.formattedPrice})]},t.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"No se encontraron productos en esta colección."})})]})};export{C as default};
