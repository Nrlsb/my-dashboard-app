import{j as e,a as C,L as J}from"./index-C63YlVTl.js";import{r as l,X as V,S as Y,a1 as R,a2 as Z,_ as ee,O as _,a3 as E,k as O,w as se,t as ae}from"./ui-libs-xkhqbQ7p.js";import{C as re}from"./ConfirmationModal-Dc5EPu7x.js";import"./vendor-qkC6yhPU.js";const te=()=>{const[o,f]=l.useState([]),[u,k]=l.useState(!1),[m,y]=l.useState(null),[N,v]=l.useState(null),[P,w]=l.useState(null),[x,g]=l.useState({}),[i,M]=l.useState({}),[S,U]=l.useState({}),[z,B]=l.useState({}),[I,A]=l.useState({}),[s,c]=l.useState(""),[n,b]=l.useState(""),[j,G]=l.useState(!1),[q,K]=l.useState([]),[$,L]=l.useState("");l.useEffect(()=>{(async()=>{try{const a=await C.fetchProtheusBrands();K(a)}catch(a){console.error("Error loading brands:",a)}})()},[]);const W=r=>{f(Array.from(r.target.files)),y(null),v(null),w(null),g({}),M({}),U({}),A({})},Q=async()=>{if(o.length===0){w("Por favor selecciona al menos un archivo.");return}k(!0),y(null),v(null),w(null);const r=new FormData;s&&r.append("userKeywords",s),n&&r.append("ignoreWords",n),$&&r.append("brand",$),r.append("useAI","false"),o.forEach(a=>{r.append("images",a)});try{const a=await C.uploadImages(r);y(a.results),v(a.errors);const t={},d={};a.results.forEach((h,p)=>{t[p]=[],d[p]=h.foundProducts||[]}),g(t),U(d)}catch(a){console.error("Upload error:",a),w(a.message||"Error al subir im치genes.")}finally{k(!1)}},D=async(r,a)=>{if(a){B(t=>({...t,[r]:!0}));try{const t=await C.fetchProducts(1,a,[],!1,250);U(d=>({...d,[r]:t.products}))}catch(t){console.error("Search error:",t)}finally{B(t=>({...t,[r]:!1}))}}},T=(r,a)=>{g(t=>{const d=t[r]||[],h=d.includes(a.id);let p;return h?p=d.filter(H=>H!==a.id):p=[...d,a.id],{...t,[r]:p}})},X=async(r,a)=>{const t=x[r];if(!t||t.length===0)return;const d=t.map(h=>{const p=F(r,h);return p?{id:p.id,code:p.code}:null}).filter(h=>h!==null);if(d.length===0){console.error("No valid products found for selected IDs");return}A(h=>({...h,[r]:"saving"}));try{await C.assignImageToProducts(a,d,j),A(h=>({...h,[r]:"success"}))}catch(h){console.error("Assignment error:",h),A(p=>({...p,[r]:"error"}))}},F=(r,a)=>(S[r]||[]).find(d=>d.id===a);return e.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Subida Manual / Individual"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sube im치genes y b칰scalas manualmente para asignarlas."}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Palabras clave / Contexto (Opcional)"}),e.jsx("input",{type:"text",value:s,onChange:r=>c(r.target.value),placeholder:"Ej: Pincel serie 170, Rodillo epoxi...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Palabras para buscar (adem치s del nombre del archivo)."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Palabras a ignorar (Opcional)"}),e.jsx("input",{type:"text",value:n,onChange:r=>b(r.target.value),placeholder:"Ej: copia, nuevo, 2024...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Palabras del nombre del archivo que NO se usar치n en la b칰squeda."})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Marca (Opcional)"}),e.jsxs("select",{value:$,onChange:r=>L(r.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",children:[e.jsx("option",{value:"",children:"-- Todas las marcas --"}),q.map((r,a)=>e.jsx("option",{value:r,children:r},a))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Si seleccionas una marca, la b칰squeda inicial se limitar치 a productos de esa marca."})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:W,className:`block w-full text-sm text-gray-500\r
                file:mr-4 file:py-2 file:px-4\r
                file:rounded-full file:border-0\r
                file:text-sm file:font-semibold\r
                file:bg-blue-50 file:text-blue-700\r
                hover:file:bg-blue-100`}),e.jsx("button",{onClick:Q,disabled:u||o.length===0,className:`px-6 py-2 rounded-lg text-white font-bold transition-colors ${u||o.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:u?"Subiendo...":"Subir Im치genes"})]}),o.length>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[o.length," archivo(s) seleccionado(s)"]})]}),P&&e.jsxs("div",{className:"p-4 bg-red-100 text-red-700 rounded-lg border border-red-200",children:[e.jsx("strong",{children:"Error:"})," ",P]}),m&&m.length>0&&e.jsxs("div",{className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Revisar y Asignar"}),e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 bg-yellow-50 px-3 py-1 rounded border border-yellow-200 cursor-pointer hover:bg-yellow-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:r=>G(r.target.checked),className:"rounded text-yellow-600 focus:ring-yellow-500 h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Reemplazar im치genes existentes"})]})]}),m.map((r,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"w-full md:w-1/3 flex-shrink-0",children:[e.jsx("img",{src:r.imageUrl,alt:r.file,className:"w-full h-64 object-contain bg-white rounded-lg border",referrerPolicy:"no-referrer"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:r.file})]}),e.jsxs("div",{className:"flex-grow space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Productos Seleccionados:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(x[a]||[]).length===0&&e.jsx("span",{className:"text-sm text-gray-400 italic",children:"Ning칰n producto seleccionado"}),(x[a]||[]).map(t=>{const d=F(a,t);return e.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[e.jsx("span",{className:"font-medium mr-2",children:d?d.code:t}),e.jsx("button",{onClick:()=>T(a,{id:t}),className:"hover:text-blue-600",children:e.jsx(V,{size:14})})]},t)})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Buscar Productos:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Buscar por c칩digo o descripci칩n...",className:"flex-grow text-sm border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2",value:i[a]||"",onChange:t=>M(d=>({...d,[a]:t.target.value})),onKeyDown:t=>t.key==="Enter"&&D(a,i[a])}),e.jsx("button",{onClick:()=>D(a,i[a]),className:"p-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:e.jsx(Y,{size:18})})]}),S[a]&&S[a].length>0?e.jsxs("div",{className:"mt-2 max-h-60 overflow-y-auto border border-gray-300 rounded-md bg-white shadow-sm",children:[e.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b text-xs font-semibold text-gray-500 uppercase tracking-wider",children:i[a]?"Resultados de b칰squeda":"Coincidencias encontradas"}),S[a].map(t=>{const d=(x[a]||[]).includes(t.id);return e.jsxs("div",{onClick:()=>T(a,t),className:`p-3 border-b border-gray-100 cursor-pointer hover:bg-blue-50 flex items-start transition-colors ${d?"bg-blue-50":""}`,children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{type:"checkbox",checked:d,readOnly:!0,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("span",{className:"font-bold text-gray-900",children:t.code}),e.jsx("span",{className:"text-gray-500 mx-1",children:"-"}),e.jsx("span",{className:"text-gray-700",children:t.name||t.description})]})]},t.id)})]}):S[a]&&!i[a]&&e.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 text-yellow-800 text-sm rounded border border-yellow-200 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"丘멆잺"}),e.jsx("span",{children:"No se encontraron coincidencias autom치ticas. Intenta buscar manualmente."})]})]})]})]}),e.jsx("div",{className:"bg-gray-100 p-3 flex justify-end items-center border-t border-gray-200",children:I[a]==="success"?e.jsxs("span",{className:"text-green-600 font-bold flex items-center",children:[e.jsx(R,{className:"mr-2"})," Guardado Exitosamente"]}):e.jsx("button",{onClick:()=>X(a,r.imageUrl),disabled:I[a]==="saving"||(x[a]||[]).length===0,className:`px-4 py-2 rounded text-sm font-bold text-white ${I[a]==="saving"||(x[a]||[]).length===0?"bg-gray-400":"bg-green-600 hover:bg-green-700"}`,children:I[a]==="saving"?"Guardando...":"Confirmar Asignaci칩n"})})]},a))]}),N&&N.length>0&&e.jsxs("div",{className:"space-y-2 mt-8",children:[e.jsxs("h3",{className:"font-semibold text-red-700",children:["Errores (",N.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:N.map((r,a)=>e.jsxs("div",{className:"p-3 bg-red-50 text-red-800 rounded border border-red-200",children:[e.jsx("p",{className:"font-bold",children:r.file}),e.jsx("p",{className:"text-sm",children:r.error})]},a))})]})]})},le=()=>{const[o,f]=l.useState([]),[u,k]=l.useState(""),[m,y]=l.useState(""),[N,v]=l.useState(""),[P,w]=l.useState([]),[x,g]=l.useState({}),[i,M]=l.useState(!1),[S,U]=l.useState(!1),z=s=>{s.target.files&&f(Array.from(s.target.files))},B=async()=>{if(o.length===0){E.error("Selecciona al menos una imagen");return}M(!0);const s=new FormData;o.forEach(c=>{s.append("images",c)}),s.append("userKeywords",u),s.append("ignoreWords",m),s.append("brand",N),s.append("useAI","true");try{const c=await C.uploadImages(s);w(c.results),E.success("An치lisis completado"),f([])}catch(c){console.error(c),E.error("Error en la subida masiva")}finally{M(!1)}},I=(s,c)=>{g(n=>{const b=n[s]||[];return b.includes(c)?{...n,[s]:b.filter(G=>G!==c)}:{...n,[s]:[...b,c]}})},A=async(s,c)=>{const n=Array.isArray(c)?c:[c];try{await C.assignImageToProducts(s,n,S),E.success("Imagen asignada correctamente"),w(b=>b.map(j=>j.imageUrl===s?{...j,assigned:!0,assignedTo:n}:j))}catch{E.error("Error al asignar imagen")}};return e.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Subida de Im치genes de Productos (IA)"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sube im치genes y as칤gnalas a los productos correspondientes con ayuda de IA."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Contexto (ej: 'L칤nea AAT', 'Pulimentos')",value:u,onChange:s=>k(s.target.value),className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",placeholder:"Marca (Opcional, ej: '3D', 'Meguiars')",value:N,onChange:s=>v(s.target.value),className:"border p-2 rounded w-full"}),e.jsx("input",{type:"text",placeholder:"Ignorar palabras (ej: 'kit', 'combo')",value:m,onChange:s=>y(s.target.value),className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsxs("label",{className:"cursor-pointer bg-blue-50 text-blue-600 px-4 py-2 rounded font-bold hover:bg-blue-100 transition flex items-center gap-2",children:[e.jsx(Z,{size:20})," Elegir archivos",e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:z})]}),e.jsx("span",{className:"text-gray-500",children:o.length>0?`${o.length} archivos seleccionados`:"Ning칰n archivo seleccionado"}),o.length>0&&e.jsxs("button",{onClick:B,disabled:i,className:"ml-auto bg-espint-blue text-white px-6 py-2 rounded font-bold hover:bg-blue-800 transition disabled:opacity-50 flex items-center gap-2",children:[i?e.jsx(J,{size:"sm"}):e.jsx(ee,{size:20}),"Subir Im치genes"]})]}),P.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Resultados del An치lisis"}),e.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 bg-yellow-50 px-3 py-1 rounded border border-yellow-200 cursor-pointer hover:bg-yellow-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:s=>U(s.target.checked),className:"rounded text-yellow-600 focus:ring-yellow-500 h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Reemplazar im치genes existentes"})]})]}),P.map((s,c)=>e.jsxs("div",{className:`border rounded p-4 flex flex-col md:flex-row gap-4 ${s.assigned?"bg-green-50 border-green-200":"bg-gray-50"}`,children:[e.jsx("div",{className:"w-32 h-32 shrink-0 bg-white rounded border flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:s.imageUrl,alt:s.file,className:"max-w-full max-h-full object-contain",referrerPolicy:"no-referrer"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-md",children:s.file}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[s.aiSuggestion?.code&&e.jsxs("p",{children:["C칩digo IA: ",e.jsx("span",{className:"font-mono bg-gray-200 px-1 rounded",children:s.aiSuggestion.code})]}),s.aiSuggestion?.brand&&e.jsxs("p",{children:["Marca IA: ",e.jsx("span",{className:"font-semibold",children:s.aiSuggestion.brand})]}),s.aiSuggestion?.keywords?.length>0&&e.jsxs("p",{children:["Keywords IA: ",s.aiSuggestion.keywords.join(", ")]})]}),s.aiSelection?.bestMatchId&&e.jsxs("div",{className:"mt-3 bg-blue-50 border border-blue-200 p-2 rounded text-sm",children:[e.jsxs("p",{className:"font-bold text-blue-800 flex items-center gap-1",children:[e.jsx("span",{className:"text-lg",children:"游뱄"})," Recomendaci칩n IA"]}),e.jsxs("p",{className:"text-gray-700 text-xs italic mb-1",children:['"',s.aiSelection.reasoning,'"']}),(()=>{const n=s.foundProducts.find(b=>b.id===s.aiSelection.bestMatchId);return n?e.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded border border-blue-300 shadow-sm mt-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:n.description}),e.jsx("p",{className:"text-xs text-gray-500",children:n.code})]}),!s.assigned&&e.jsx("button",{onClick:()=>A(s.imageUrl,[n.id]),className:"bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 shadow-sm",children:"Aceptar"})]}):null})()]})]}),s.assigned&&e.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[e.jsx(R,{size:16})," Asignado"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-bold text-sm text-gray-700",children:"Productos Sugeridos:"}),!s.assigned&&(x[c]||[]).length>0&&e.jsxs("button",{onClick:()=>A(s.imageUrl,x[c]),className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 shadow-sm flex items-center gap-1",children:[e.jsx(R,{size:14})," Confirmar Selecci칩n (",x[c].length,")"]})]}),s.foundProducts&&s.foundProducts.length>0?e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:s.foundProducts.map(n=>{const b=s.aiSelection?.bestMatchId===n.id,j=(x[c]||[]).includes(n.id);return e.jsxs("div",{onClick:()=>!s.assigned&&I(c,n.id),className:`flex justify-between items-center p-2 rounded border transition cursor-pointer ${j?"bg-blue-100 border-blue-400 ring-1 ring-blue-400":b?"bg-blue-50 border-blue-300":"bg-white hover:bg-gray-50"} ${s.assigned?"opacity-60 cursor-default":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[!s.assigned&&e.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${j?"bg-blue-600 border-blue-600":"border-gray-400 bg-white"}`,children:j&&e.jsx(R,{size:10,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:n.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["C칩digo: ",n.code," | Stock: ",n.stock]})]})]}),s.assigned&&s.assignedTo&&s.assignedTo.includes(n.id)&&e.jsx("span",{className:"text-green-600 text-xs font-bold",children:"Asignado"})]},n.id)})}):e.jsxs("div",{className:"flex items-center gap-2 text-orange-600 bg-orange-50 p-2 rounded text-sm",children:[e.jsx(_,{size:16})," No se encontraron coincidencias autom치ticas."]})]})]})]},c))]})]})},ne=()=>{const[o,f]=l.useState(!1),[u,k]=l.useState(null),[m,y]=l.useState(null),[N,v]=l.useState(!1),P=()=>{v(!0)},w=async()=>{v(!1),f(!0),k(null),y({current:0,total:0});const g=setInterval(async()=>{try{const i=await C.getBatchGenerationProgress();i&&i.status==="processing"&&y(i)}catch(i){console.error("Error polling progress:",i)}},1e3);try{const i=await C.batchGenerateAiDescriptions();k(i),E.success(`Proceso completado: ${i.success} descripciones generadas.`)}catch(i){console.error("Error en generaci칩n masiva:",i),E.error("Error al iniciar la generaci칩n masiva.")}finally{clearInterval(g),f(!1),y(null)}},x=()=>{v(!1)};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-purple-100 rounded-full mb-4",children:e.jsx(O,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Generaci칩n Masiva de Descripciones IA"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Esta herramienta buscar치 autom치ticamente un lote de hasta 50 productos que tienen imagen cargada pero no tienen una descripci칩n generada. Utilizar치 inteligencia artificial para crear una descripci칩n t칠cnica basada en el nombre, marca y precio del producto."})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[e.jsx("button",{onClick:P,disabled:o,className:"flex items-center px-8 py-4 bg-purple-600 text-white text-lg font-semibold rounded-xl hover:bg-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-6 h-6 mr-3 animate-spin"}),m&&m.total>0?`Procesando ${m.current} de ${m.total}...`:"Procesando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-6 h-6 mr-3"}),"Comenzar Generaci칩n Masiva"]})}),o&&m&&m.total>0&&e.jsxs("div",{className:"w-full max-w-md mt-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full transition-all duration-500",style:{width:`${m.current/m.total*100}%`}})}),e.jsxs("p",{className:"text-center text-sm text-gray-500 mt-2",children:[Math.round(m.current/m.total*100),"% completado"]})]})]}),u&&e.jsxs("div",{className:"mt-8 border-t pt-8 animate-in fade-in slide-in-from-bottom-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Resultados del Proceso"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center border border-blue-100",children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium uppercase tracking-wider",children:"Total Procesados"}),e.jsx("p",{className:"text-3xl font-bold text-blue-800",children:u.total})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center border border-green-100",children:[e.jsx("p",{className:"text-sm text-green-600 font-medium uppercase tracking-wider",children:"Exitosos"}),e.jsx("p",{className:"text-3xl font-bold text-green-800",children:u.success})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center border border-red-100",children:[e.jsx("p",{className:"text-sm text-red-600 font-medium uppercase tracking-wider",children:"Fallidos"}),e.jsx("p",{className:"text-3xl font-bold text-red-800",children:u.failed})]})]}),u.details&&u.details.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2 sticky top-0 bg-gray-50 pb-2 border-b",children:"Detalles:"}),e.jsx("ul",{className:"space-y-2",children:u.details.map((g,i)=>e.jsxs("li",{className:"flex items-center text-sm",children:[g.status==="success"?e.jsx(ae,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}):e.jsx(_,{className:"w-4 h-4 text-red-500 mr-2 flex-shrink-0"}),e.jsxs("span",{className:"font-medium mr-2",children:[g.code,":"]}),e.jsx("span",{className:g.status==="success"?"text-gray-600":"text-red-600",children:g.status==="success"?"Generado correctamente":g.error||"Error desconocido"})]},i))})]})]}),e.jsx(re,{isOpen:N,onClose:x,onConfirm:w,title:"Confirmar Generaci칩n Masiva",message:"쮼st치s seguro de que deseas generar descripciones para un lote de hasta 50 productos que tienen imagen pero no descripci칩n? Esto puede tardar unos minutos.",confirmText:"Comenzar",variant:"info"})]})},me=()=>{const[o,f]=l.useState("manual");return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-espint-blue mb-6",children:"Gesti칩n de Cat치logo"}),e.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-200",children:[e.jsx("button",{className:`py-2 px-4 font-semibold ${o==="manual"?"text-espint-blue border-b-2 border-espint-blue":"text-gray-500"}`,onClick:()=>f("manual"),children:"Subida Manual / Individual"}),e.jsx("button",{className:`py-2 px-4 font-semibold ${o==="ai_upload"?"text-espint-blue border-b-2 border-espint-blue":"text-gray-500"}`,onClick:()=>f("ai_upload"),children:"Subida Masiva IA"}),e.jsx("button",{className:`py-2 px-4 font-semibold ${o==="ai_description"?"text-espint-blue border-b-2 border-espint-blue":"text-gray-500"}`,onClick:()=>f("ai_description"),children:"Generaci칩n Masiva IA"})]}),o==="manual"&&e.jsx(te,{}),o==="ai_upload"&&e.jsx(le,{}),o==="ai_description"&&e.jsx(ne,{})]})};export{me as default};
