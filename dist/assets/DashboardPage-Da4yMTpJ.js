import{j as e,u as w,b as y,a as f,L as S,c as b}from"./index-DGqXia3j.js";import{r as h,j as v,k as D,l as E,m as z,n as C,B as P,G as A,D as _,o as L,a as $}from"./ui-libs-DHqitF0u.js";import"./vendor-qkC6yhPU.js";const I=({title:s,subTitle:n,icon:u,tag:i,onClick:d,isLast:p,...o})=>{const a=`${s||""} ${n||""}`.toUpperCase();let r="group-hover:bg-gray-50",l="",m="text-espint-blue bg-gray-50 group-hover:bg-white/20 group-hover:text-white group-hover:scale-110",t="text-espint-blue group-hover:text-espint-blue",c="text-gray-400 group-hover:text-gray-600";a.includes("PEDIDOS")?(r="group-hover:bg-espint-magenta",t="text-espint-blue group-hover:text-white",c="text-gray-400 group-hover:text-white/90"):a.includes("PRECIO")?(r="group-hover:bg-[#FFC20E]",t="text-espint-blue group-hover:text-white",c="text-gray-400 group-hover:text-white/90"):a.includes("CUENTA")||a.includes("SALDO")?(r="group-hover:bg-espint-blue",t="text-espint-blue group-hover:text-white",c="text-gray-400 group-hover:text-white/90"):a.includes("CONSULTA")||a.includes("CLIENTE")?(r="group-hover:bg-espint-magenta",t="text-espint-blue group-hover:text-white",c="text-gray-400 group-hover:text-white/90"):a.includes("OFERTAS")?(r="group-hover:bg-espint-green",l="hover:scale-110 z-20",t="text-espint-blue group-hover:text-white",c="text-gray-400 group-hover:text-white/90"):a.includes("PEDIDO")&&(r="group-hover:bg-espint-green",t="text-espint-blue group-hover:text-white",c="text-gray-400 group-hover:text-white/90");let x=s;(a.includes("NUEVO PEDIDO")||a.includes("PEDIDO")&&!a.includes("HISTORICO"))&&(x="CREAR PEDIDO");const j=a.includes("OFERTAS");return e.jsxs(e.Fragment,{children:[j&&e.jsx("style",{children:`
          @keyframes border-rotate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
          }
          .animate-border-custom {
            background-size: 200% 200%;
            animation: border-rotate 3s ease infinite;
          }
        `}),e.jsxs("div",{onClick:d,className:`
          group relative flex flex-col items-center justify-center p-6 h-48
          cursor-pointer transition-all duration-300 ease-out
          bg-transparent
          ${l}
          ${o.className||""}
        `,children:[j&&e.jsx("div",{className:"absolute -inset-[5px] rounded-[inherit] bg-[linear-gradient(90deg,#003366,#AACD46,#FFC20E,#EC008C,#003366)] animate-border-custom -z-20 blur-sm"}),e.jsx("div",{className:`absolute inset-0 rounded-[inherit] bg-white transition-colors duration-300 ${r} -z-10`}),i&&e.jsx("span",{className:"absolute top-3 right-3 px-2.5 py-1 text-[10px] font-bold text-white bg-espint-magenta rounded-full shadow-sm z-10 tracking-wide",children:i}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[e.jsx("div",{className:`p-4 rounded-2xl mb-4 transition-colors duration-300 ${m}`,children:e.jsx(u,{className:"w-8 h-8 transition-transform duration-300"})}),e.jsx("h3",{className:`text-xs font-bold tracking-widest uppercase mb-2 text-center transition-colors duration-300 ${c}`,children:x}),e.jsx("p",{className:`text-sm md:text-base font-bold text-center leading-tight px-2 transition-colors duration-300 ${t}`,children:n})]})]})]})},g=({className:s,...n})=>e.jsx("div",{className:`animate-pulse bg-gray-200 rounded-md ${s}`,...n}),O=()=>e.jsxs("div",{className:"flex-none w-full md:w-44 bg-white rounded-lg overflow-hidden border-b-[3px] border-gray-200 group flex flex-col h-auto aspect-square md:aspect-auto md:h-auto",children:[e.jsx(g,{className:"w-full h-32 md:h-32"}),e.jsx("div",{className:"p-3 md:p-4 flex-grow flex items-center justify-center md:block bg-white",children:e.jsx(g,{className:"h-4 w-3/4 mx-auto md:mx-0"})})]}),k=({title:s})=>e.jsxs("div",{className:"relative py-4 mt-8",children:[s&&e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:s}),e.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4",children:Array(6).fill(0).map((n,u)=>e.jsx(O,{},u))})]}),R=()=>{const[s,n]=h.useState([]),[u,i]=h.useState(!0),[d,p]=h.useState(null),o=w(),{user:a}=y(),r=h.useCallback(async()=>{try{i(!0);const t=await f.getAccessories(),c=a&&a.restricted_groups?t.filter(x=>!a.restricted_groups.includes(x.group_code)):t;n(c),i(!1)}catch(t){p("No se pudieron cargar los accesorios."),console.error(t),i(!1)}},[a]);h.useEffect(()=>{r()},[r]);const l=t=>{o(`/product-detail/${t}`)};if(u&&s.length===0)return e.jsx(k,{title:"Accesorios"});if(d)return e.jsx("div",{className:"p-4 text-red-500",children:d});if(s.length===0)return null;const m=s.slice(0,5);return e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Accesorios"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:m.map(t=>e.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden transition-all duration-200 ease-in-out cursor-pointer hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group",onClick:()=>l(t.id),children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-32 object-contain p-2",referrerPolicy:"no-referrer",loading:"lazy"}),e.jsx("div",{className:"p-3",children:e.jsx("h3",{className:"text-sm font-bold text-espint-blue whitespace-nowrap truncate",children:t.name})})]},t.id))}),u&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-gray-900/70 flex justify-center items-center z-10 rounded-lg",children:e.jsx(S,{text:"Cargando..."})})]})},F=()=>{const[s,n]=h.useState([]),[u,i]=h.useState(!0),[d,p]=h.useState(null),o=w();h.useEffect(()=>{(async()=>{try{i(!0);const m=await f.getProductGroupsDetails();n(m),i(!1)}catch(m){p("No se pudieron cargar los grupos de productos."),console.error(m),i(!1)}})()},[]);const a=l=>{l.type==="custom_collection"?o(`/collection/${l.collection_id}`):o(`/category/${l.group_code}`)};if(u)return e.jsx(k,{title:"Categorías"});if(d)return e.jsx("div",{className:"p-4 text-red-500",children:d});if(s.length===0)return null;const r=s.slice(0,5);return e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Categorías"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:r.map(l=>e.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden cursor-pointer transition-all duration-200 ease-in-out hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group flex flex-col h-auto aspect-square md:aspect-auto md:h-auto",onClick:()=>a(l),children:[l.imageUrl?e.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-40 md:h-48 object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):e.jsx("div",{className:"w-full h-40 md:h-48 bg-[#183B64] flex items-center justify-center p-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-white opacity-80",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("div",{className:"p-3 md:p-4 flex-grow flex items-center justify-center md:block bg-white",children:e.jsx("h3",{className:"text-sm md:text-base font-bold text-espint-blue text-center md:text-left md:whitespace-nowrap md:overflow-hidden md:text-ellipsis line-clamp-2 md:line-clamp-1",children:l.name})})]},l.id||l.group_code))})]})},T=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 h-32 flex flex-col justify-between border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(g,{className:"h-4 w-24"}),e.jsx(g,{className:"h-3 w-16"})]}),e.jsx(g,{className:"h-8 w-8 rounded-full"})]}),e.jsx(g,{className:"h-5 w-12 rounded-full self-end"})]}),U=()=>e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6",children:Array(10).fill(0).map((s,n)=>e.jsx(T,{},n))}),N=({products:s})=>{const n=w(),[u,i]=h.useState(0),[d,p]=h.useState(!1),{data:o=[],isLoading:a}=b({queryKey:["new-releases-banner"],queryFn:()=>f.fetchNewReleases(),staleTime:1e3*60*5,enabled:!s}),r=s||o;h.useEffect(()=>{if(r.length<=1||d)return;const c=setInterval(()=>{i(x=>(x+1)%r.length)},5e3);return()=>clearInterval(c)},[r.length,d]);const l=c=>{c.stopPropagation(),i(x=>(x+1)%r.length)},m=c=>{c.stopPropagation(),i(x=>(x-1+r.length)%r.length)};if(a)return e.jsx("div",{className:"w-full md:w-64 lg:w-72 h-[400px] md:h-auto md:flex-grow rounded-3xl bg-gray-100 animate-pulse flex items-center justify-center",children:e.jsx(v,{className:"w-8 h-8 text-gray-300"})});if(r.length===0)return e.jsxs("div",{onClick:()=>n("/new-releases"),className:`\r
                group cursor-pointer \r
                bg-gradient-to-b from-indigo-600 to-purple-700 \r
                text-white \r
                rounded-3xl p-6 \r
                shadow-lg hover:shadow-2xl \r
                transition-all duration-300 transform hover:scale-[1.02]\r
                flex flex-col items-center justify-center\r
                w-full md:w-64 lg:w-72\r
                h-[400px] md:h-auto md:flex-grow min-h-[500px]\r
                relative overflow-hidden\r
            `,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white opacity-5 rounded-3xl pointer-events-none"}),e.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm mb-4",children:e.jsx(v,{className:"w-8 h-8 text-yellow-300"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Nuevos Lanzamientos"}),e.jsx("p",{className:"text-white/80 text-center text-sm",children:"Descubre las novedades"})]});const t=r[u];return e.jsxs("div",{onClick:()=>n(`/product-detail/${t.id}`),className:`\r
            group cursor-pointer \r
            bg-gradient-to-b from-indigo-600 to-purple-700 \r
            text-white \r
            rounded-3xl p-0 \r
            shadow-lg hover:shadow-2xl \r
            transition-all duration-300 transform hover:scale-[1.02]\r
            flex flex-col\r
            w-full md:w-64 lg:w-72\r
            h-[400px] md:h-auto md:flex-grow min-h-[500px]\r
            relative overflow-hidden\r
        `,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white opacity-5 pointer-events-none"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-400 rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity"}),e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-full shadow-md flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),"NUEVO"]})}),e.jsx("div",{className:"w-full h-1/2 bg-white/10 p-6 flex items-center justify-center relative",children:t.custom_image_url||t.imageUrl?e.jsx("img",{src:t.custom_image_url||t.imageUrl,alt:t.name,className:"w-full h-full object-contain drop-shadow-xl transition-transform duration-500 group-hover:scale-110",referrerPolicy:"no-referrer"}):e.jsxs("div",{className:"flex flex-col items-center text-white/50",children:[e.jsx(D,{className:"w-16 h-16 mb-2"}),e.jsx("span",{className:"text-xs",children:"Sin imagen"})]})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow relative z-10",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-xs font-medium text-white/70 uppercase tracking-wider",children:t.brand})}),e.jsx("h3",{className:"text-xl font-bold leading-tight mb-2 line-clamp-3",title:t.custom_title||t.name,children:t.custom_title||t.name}),e.jsx("p",{className:"text-sm text-white/80 line-clamp-2 mb-4",children:t.custom_description||t.capacityDesc||"Un nuevo producto destacado para ti."}),e.jsx("div",{className:"mt-auto flex items-center justify-between",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:t.formattedPrice})})})]}),r.length>1&&e.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((c,x)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${x===u?"bg-white w-6":"bg-white/40"}`},x))}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m,className:`absolute left-2 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-2 rounded-full backdrop-blur-sm z-30 transition-all duration-300 ${d?"opacity-100":"opacity-0"}`,"aria-label":"Previous",children:e.jsx(E,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:l,className:`absolute right-2 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-2 rounded-full backdrop-blur-sm z-30 transition-all duration-300 ${d?"opacity-100":"opacity-0"}`,"aria-label":"Next",children:e.jsx(z,{className:"w-5 h-5 text-white"})})]})]})},q={ShoppingCart:$,Clock:L,DollarSign:_,Gift:A,Banknote:P,HelpCircle:C},G=()=>{const{user:s}=y(),n=w(),{data:u,isLoading:i,error:d}=b({queryKey:["dashboardPanels"],queryFn:()=>f.getDashboardPanels()}),{data:p=[]}=b({queryKey:["new-releases-banner"],queryFn:()=>f.fetchNewReleases(),staleTime:1e3*60*5});return i?e.jsx(U,{}):d?e.jsx("div",{className:"text-center p-8 text-red-500",children:"No se pudieron cargar los paneles del dashboard."}):e.jsx("div",{className:"flex flex-col md:flex-row w-full rounded-3xl shadow-xl bg-white relative z-0 mb-8",children:u.map((o,a)=>e.jsx(I,{title:o.title,subTitle:o.subtitle,icon:q[o.icon]||C,tag:o.tag,onClick:()=>n(`/${o.navigation_path.startsWith("/")?o.navigation_path.substring(1):o.navigation_path}`),className:"flex-1 border-b md:border-b-0 md:border-r border-gray-100 last:border-0 first:rounded-t-3xl md:first:rounded-tr-none md:first:rounded-l-3xl last:rounded-b-3xl md:last:rounded-bl-none md:last:rounded-r-3xl"},o.id))})},K=()=>{const{data:s=[]}=b({queryKey:["new-releases-banner"],queryFn:()=>f.fetchNewReleases(),staleTime:3e5});return e.jsx("div",{className:"font-sans",children:e.jsxs("main",{className:"p-2 md:p-4 w-full",children:[e.jsx(G,{}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mt-8",children:[s.length>0&&e.jsxs("div",{className:"flex-shrink-0 hidden md:flex md:flex-col mt-8 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue break-words w-64 lg:w-72 leading-tight",children:"Nuevos Lanzamientos"}),e.jsx(N,{products:s})]}),s.length>0&&e.jsx("div",{className:"block md:hidden mb-4",children:e.jsx(N,{products:s})}),e.jsxs("div",{className:"flex-grow w-full min-w-0 space-y-8",children:[e.jsx(F,{}),e.jsx(R,{})]})]})]})})};export{K as default};
