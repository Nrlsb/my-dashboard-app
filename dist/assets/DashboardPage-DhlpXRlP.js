import{c as f,j as e,r as u,u as v,b as k,a as g,d as S,e as w,S as D}from"./index-BjNwQFYG.js";import{S as j}from"./sparkles-BrD_vs-a.js";import{P as E}from"./package-Bn4ngZpc.js";import{D as A}from"./dollar-sign-DGAxvaCW.js";const z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$=f("arrow-right",z);const P=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],I=f("banknote",P);const L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C=f("circle-question-mark",L);const M=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O=f("clock",M);const R=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],q=f("gift",R),T=({title:s,subTitle:o,icon:c,tag:i,onClick:d,isLast:x,...r})=>{const t=`${s||""} ${o||""}`.toUpperCase();let n="group-hover:bg-gray-50",a="",m="text-espint-blue bg-gray-50 group-hover:bg-white/20 group-hover:text-white group-hover:scale-110",l="text-espint-blue group-hover:text-espint-blue",h="text-gray-400 group-hover:text-gray-600";t.includes("PEDIDOS")?(n="group-hover:bg-espint-magenta",l="text-espint-blue group-hover:text-white",h="text-gray-400 group-hover:text-white/90"):t.includes("PRECIO")?(n="group-hover:bg-[#FFC20E]",l="text-espint-blue group-hover:text-white",h="text-gray-400 group-hover:text-white/90"):t.includes("CUENTA")||t.includes("SALDO")?(n="group-hover:bg-espint-blue",l="text-espint-blue group-hover:text-white",h="text-gray-400 group-hover:text-white/90"):t.includes("CONSULTA")||t.includes("CLIENTE")?(n="group-hover:bg-espint-magenta",l="text-espint-blue group-hover:text-white",h="text-gray-400 group-hover:text-white/90"):t.includes("OFERTAS")?(n="group-hover:bg-espint-green",a="hover:scale-110 z-20",l="text-espint-blue group-hover:text-white",h="text-gray-400 group-hover:text-white/90"):t.includes("PEDIDO")&&(n="group-hover:bg-espint-green",l="text-espint-blue group-hover:text-white",h="text-gray-400 group-hover:text-white/90");let b=s;(t.includes("NUEVO PEDIDO")||t.includes("PEDIDO")&&!t.includes("HISTORICO"))&&(b="CREAR PEDIDO");const y=t.includes("OFERTAS");return e.jsxs(e.Fragment,{children:[y&&e.jsx("style",{children:`
          @keyframes border-rotate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
          }
          .animate-border-custom {
            background-size: 200% 200%;
            animation: border-rotate 3s ease infinite;
          }
        `}),e.jsxs("div",{onClick:d,className:`
          group relative flex flex-col items-center justify-center p-6 h-48
          cursor-pointer transition-all duration-300 ease-out
          bg-transparent
          ${a}
          ${r.className||""}
        `,children:[y&&e.jsx("div",{className:"absolute -inset-[5px] rounded-[inherit] bg-[linear-gradient(90deg,#003366,#AACD46,#FFC20E,#EC008C,#003366)] animate-border-custom -z-20 blur-sm"}),e.jsx("div",{className:`absolute inset-0 rounded-[inherit] bg-white transition-colors duration-300 ${n} -z-10`}),i&&e.jsx("span",{className:"absolute top-3 right-3 px-2.5 py-1 text-[10px] font-bold text-white bg-espint-magenta rounded-full shadow-sm z-10 tracking-wide",children:i}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[e.jsx("div",{className:`p-4 rounded-2xl mb-4 transition-colors duration-300 ${m}`,children:e.jsx(c,{className:"w-8 h-8 transition-transform duration-300"})}),e.jsx("h3",{className:`text-xs font-bold tracking-widest uppercase mb-2 text-center transition-colors duration-300 ${h}`,children:b}),e.jsx("p",{className:`text-sm md:text-base font-bold text-center leading-tight px-2 transition-colors duration-300 ${l}`,children:o})]})]})]})},p=({className:s,...o})=>e.jsx("div",{className:`animate-pulse bg-gray-200 rounded-md ${s}`,...o}),F=()=>e.jsxs("div",{className:"flex-none w-full md:w-44 bg-white rounded-lg overflow-hidden border-b-[3px] border-gray-200 group flex flex-col h-auto aspect-square md:aspect-auto md:h-auto",children:[e.jsx(p,{className:"w-full h-32 md:h-32"}),e.jsx("div",{className:"p-3 md:p-4 flex-grow flex items-center justify-center md:block bg-white",children:e.jsx(p,{className:"h-4 w-3/4 mx-auto md:mx-0"})})]}),_=({title:s})=>e.jsxs("div",{className:"relative py-4 mt-8",children:[s&&e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:s}),e.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4",children:Array(6).fill(0).map((o,c)=>e.jsx(F,{},c))})]}),U=()=>{const[s,o]=u.useState([]),[c,i]=u.useState(!0),[d,x]=u.useState(null),r=v(),{user:t}=k(),n=u.useCallback(async()=>{try{i(!0);const l=await g.getAccessories(),h=t&&t.restricted_groups?l.filter(b=>!t.restricted_groups.includes(b.group_code)):l;o(h),i(!1)}catch(l){x("No se pudieron cargar los accesorios."),console.error(l),i(!1)}},[t]);u.useEffect(()=>{n()},[n]);const a=l=>{r(`/product-detail/${l}`)};if(c&&s.length===0)return e.jsx(_,{title:"Accesorios"});if(d)return e.jsx("div",{className:"p-4 text-red-500",children:d});if(s.length===0)return null;const m=s.slice(0,5);return e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Accesorios"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:m.map(l=>e.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden transition-all duration-200 ease-in-out cursor-pointer hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group",onClick:()=>a(l.id),children:[e.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-32 object-contain p-2",referrerPolicy:"no-referrer",loading:"lazy"}),e.jsx("div",{className:"p-3",children:e.jsx("h3",{className:"text-sm font-bold text-espint-blue whitespace-nowrap truncate",children:l.name})})]},l.id))}),c&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-gray-900/70 flex justify-center items-center z-10 rounded-lg",children:e.jsx(S,{text:"Cargando..."})})]})},G=()=>{const[s,o]=u.useState([]),[c,i]=u.useState(!0),[d,x]=u.useState(null),r=v();u.useEffect(()=>{(async()=>{try{i(!0);const m=await g.getProductGroupsDetails();o(m),i(!1)}catch(m){x("No se pudieron cargar los grupos de productos."),console.error(m),i(!1)}})()},[]);const t=a=>{a.type==="custom_collection"?r(`/collection/${a.collection_id}`):r(`/category/${a.group_code}`)};if(c)return e.jsx(_,{title:"Categorías"});if(d)return e.jsx("div",{className:"p-4 text-red-500",children:d});if(s.length===0)return null;const n=s.slice(0,5);return e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Categorías"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:n.map(a=>e.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden cursor-pointer transition-all duration-200 ease-in-out hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group flex flex-col h-auto aspect-square md:aspect-auto md:h-auto",onClick:()=>t(a),children:[a.imageUrl?e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-32 md:h-32 object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):e.jsx("div",{className:"w-full h-full md:h-32 bg-[#183B64] flex items-center justify-center p-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-white opacity-80",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("div",{className:"p-3 md:p-4 flex-grow flex items-center justify-center md:block bg-white",children:e.jsx("h3",{className:"text-sm md:text-base font-bold text-espint-blue text-center md:text-left md:whitespace-nowrap md:overflow-hidden md:text-ellipsis line-clamp-2 md:line-clamp-1",children:a.name})})]},a.id||a.group_code))})]})},B=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 h-32 flex flex-col justify-between border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(p,{className:"h-4 w-24"}),e.jsx(p,{className:"h-3 w-16"})]}),e.jsx(p,{className:"h-8 w-8 rounded-full"})]}),e.jsx(p,{className:"h-5 w-12 rounded-full self-end"})]}),H=()=>e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6",children:Array(10).fill(0).map((s,o)=>e.jsx(B,{},o))}),N=({products:s})=>{const o=v(),[c,i]=u.useState(0),{data:d=[],isLoading:x}=w({queryKey:["new-releases-banner"],queryFn:()=>g.fetchNewReleases(),staleTime:1e3*60*5,enabled:!s}),r=s||d;if(u.useEffect(()=>{if(r.length<=1)return;const n=setInterval(()=>{i(a=>(a+1)%r.length)},5e3);return()=>clearInterval(n)},[r.length]),x)return e.jsx("div",{className:"w-full md:w-64 lg:w-72 h-[400px] md:h-auto md:flex-grow rounded-3xl bg-gray-100 animate-pulse flex items-center justify-center",children:e.jsx(j,{className:"w-8 h-8 text-gray-300"})});if(r.length===0)return e.jsxs("div",{onClick:()=>o("/new-releases"),className:`\r
                group cursor-pointer \r
                bg-gradient-to-b from-indigo-600 to-purple-700 \r
                text-white \r
                rounded-3xl p-6 \r
                shadow-lg hover:shadow-2xl \r
                transition-all duration-300 transform hover:scale-[1.02]\r
                flex flex-col items-center justify-center\r
                w-full md:w-64 lg:w-72\r
                h-[400px] md:h-auto md:flex-grow min-h-[500px]\r
                relative overflow-hidden\r
            `,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white opacity-5 rounded-3xl pointer-events-none"}),e.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm mb-4",children:e.jsx(j,{className:"w-8 h-8 text-yellow-300"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Nuevos Lanzamientos"}),e.jsx("p",{className:"text-white/80 text-center text-sm",children:"Descubre las novedades"})]});const t=r[c];return e.jsxs("div",{onClick:()=>o(`/product-detail/${t.id}`),className:`\r
            group cursor-pointer \r
            bg-gradient-to-b from-indigo-600 to-purple-700 \r
            text-white \r
            rounded-3xl p-0 \r
            shadow-lg hover:shadow-2xl \r
            transition-all duration-300 transform hover:scale-[1.02]\r
            flex flex-col\r
            w-full md:w-64 lg:w-72\r
            h-[400px] md:h-auto md:flex-grow min-h-[500px]\r
            relative overflow-hidden\r
        `,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white opacity-5 pointer-events-none"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-400 rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity"}),e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-full shadow-md flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3"}),"NUEVO"]})}),e.jsx("div",{className:"w-full h-1/2 bg-white/10 p-6 flex items-center justify-center relative",children:t.custom_image_url||t.imageUrl?e.jsx("img",{src:t.custom_image_url||t.imageUrl,alt:t.name,className:"w-full h-full object-contain drop-shadow-xl transition-transform duration-500 group-hover:scale-110",referrerPolicy:"no-referrer"}):e.jsxs("div",{className:"flex flex-col items-center text-white/50",children:[e.jsx(E,{className:"w-16 h-16 mb-2"}),e.jsx("span",{className:"text-xs",children:"Sin imagen"})]})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow relative z-10",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-xs font-medium text-white/70 uppercase tracking-wider",children:t.brand})}),e.jsx("h3",{className:"text-xl font-bold leading-tight mb-2 line-clamp-3",title:t.custom_title||t.name,children:t.custom_title||t.name}),e.jsx("p",{className:"text-sm text-white/80 line-clamp-2 mb-4",children:t.custom_description||t.capacityDesc||"Un nuevo producto destacado para ti."}),e.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:t.formattedPrice})}),e.jsx("div",{className:"bg-white/20 p-2 rounded-full backdrop-blur-sm group-hover:bg-white/30 transition-colors",children:e.jsx($,{className:"w-5 h-5"})})]})]}),r.length>1&&e.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((n,a)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${a===c?"bg-white w-6":"bg-white/40"}`},a))})]})},K={ShoppingCart:D,Clock:O,DollarSign:A,Gift:q,Banknote:I,HelpCircle:C},V=()=>{const{user:s}=k(),o=v(),{data:c,isLoading:i,error:d}=w({queryKey:["dashboardPanels"],queryFn:()=>g.getDashboardPanels()}),{data:x=[]}=w({queryKey:["new-releases-banner"],queryFn:()=>g.fetchNewReleases(),staleTime:1e3*60*5});return i?e.jsx(H,{}):d?e.jsx("div",{className:"text-center p-8 text-red-500",children:"No se pudieron cargar los paneles del dashboard."}):e.jsx("div",{className:"flex flex-col md:flex-row w-full rounded-3xl shadow-xl bg-white relative z-0 mb-8",children:c.map((r,t)=>e.jsx(T,{title:r.title,subTitle:r.subtitle,icon:K[r.icon]||C,tag:r.tag,onClick:()=>o(`/${r.navigation_path.startsWith("/")?r.navigation_path.substring(1):r.navigation_path}`),className:"flex-1 border-b md:border-b-0 md:border-r border-gray-100 last:border-0 first:rounded-t-3xl md:first:rounded-tr-none md:first:rounded-l-3xl last:rounded-b-3xl md:last:rounded-bl-none md:last:rounded-r-3xl"},r.id))})},Y=()=>{const{data:s=[]}=w({queryKey:["new-releases-banner"],queryFn:()=>g.fetchNewReleases(),staleTime:3e5});return e.jsx("div",{className:"font-sans",children:e.jsxs("main",{className:"p-2 md:p-4 w-full",children:[e.jsx(V,{}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mt-8",children:[s.length>0&&e.jsxs("div",{className:"flex-shrink-0 hidden md:flex md:flex-col mt-8 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue break-words w-64 lg:w-72 leading-tight",children:"Nuevos Lanzamientos"}),e.jsx(N,{products:s})]}),s.length>0&&e.jsx("div",{className:"block md:hidden mb-4",children:e.jsx(N,{products:s})}),e.jsxs("div",{className:"flex-grow w-full min-w-0 space-y-8",children:[e.jsx(G,{}),e.jsx(U,{})]})]})]})})};export{Y as default};
