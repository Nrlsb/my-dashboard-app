import{c as f,g as y,u as N,d as b,a as v,r as d,j as e,S as w,b as C}from"./index-mJiBKOI7.js";import{u as k}from"./useQuery-Dt-CzuYL.js";import{A}from"./arrow-left-BflPrY3o.js";import{P as S}from"./package-CsxgGtq0.js";import{C as I}from"./circle-check-big-DTA2J6h1.js";import{T as P}from"./triangle-alert-CeWf-v5b.js";import"./useBaseQuery-DbhY_mIl.js";const M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],E=f("info",M),L=r=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(r||0),T=()=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"bg-gray-200 h-96 rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-200 h-8 w-1/3 rounded"}),e.jsx("div",{className:"bg-gray-200 h-12 w-3/4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-8 w-1/4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-20 w-full rounded"}),e.jsx("div",{className:"bg-gray-200 h-12 w-1/2 rounded"})]})]})}),i=({message:r})=>e.jsxs("div",{className:"flex flex-col items-center justify-center p-10 bg-white rounded-lg shadow-md",children:[e.jsx(P,{className:"w-12 h-12 text-red-500 mb-4"}),e.jsx("p",{className:"text-red-500 font-semibold text-lg",children:"Error al cargar el producto"}),e.jsx("p",{className:"text-gray-600 mt-2",children:r})]});function U(){const{productId:r}=y(),o=N(),{addToCart:m}=b(),{user:x}=v(),[c,t]=d.useState(1),[l,n]=d.useState(!1),{data:s,isLoading:u,isError:g,error:h}=k({queryKey:["product",r,x?.id],queryFn:()=>C.fetchProductById(r),enabled:!!r}),p=()=>{s&&(m(s,c),n(!0),setTimeout(()=>n(!1),2e3))},j=()=>u?e.jsx(T,{}):g?e.jsx(i,{message:h.message}):s?e.jsx("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg h-80 md:h-96 overflow-hidden",children:s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-contain"}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-24 h-24 text-gray-400"}),e.jsx("span",{className:"absolute text-gray-500 text-sm mt-32",children:"Imagen de producto"})]})}),e.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[e.jsx("span",{className:"text-sm font-medium text-blue-600 uppercase",children:s.brand||"Marca"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:s.name}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-sm text-gray-500",children:"(Sin calificaciones)"})}),e.jsx("p",{className:"text-4xl font-extrabold text-gray-800",children:L(s.price)}),e.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[s.capacity_description||"Detalles del producto no disponibles.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Cantidad:"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>t(a=>Math.max(1,a-1)),className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-l-lg cursor-pointer",children:"-"}),e.jsx("input",{type:"number",value:c,onChange:a=>t(Math.max(1,parseInt(a.target.value,10)||1)),className:"w-16 text-center border-none focus:ring-0",min:"1"}),e.jsx("button",{onClick:()=>t(a=>a+1),className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-r-lg cursor-pointer",children:"+"})]})]}),e.jsx("button",{onClick:p,className:`w-full py-3 px-6 rounded-lg text-white font-semibold transition-colors duration-300 cursor-pointer ${l?"bg-green-500 hover:bg-green-600":"bg-blue-600 hover:bg-blue-700"}`,children:l?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(I,{className:"w-5 h-5 mr-2"}),"Agregado"]}):e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(w,{className:"w-5 h-5 mr-2"}),"Agregar al Carrito"]})}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Cód: ",s.code," | Stock: ",s.stock]})]})]})]})}):e.jsx(i,{message:"No se encontró el producto."});return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("header",{className:"mb-6 flex items-center",children:[e.jsx("button",{onClick:()=>o(-1),className:"flex items-center justify-center p-2 mr-4 text-gray-600 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors cursor-pointer","aria-label":"Volver",children:e.jsx(A,{className:"w-6 h-6"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Detalle del Producto"})})]}),j()]})}export{U as default};
