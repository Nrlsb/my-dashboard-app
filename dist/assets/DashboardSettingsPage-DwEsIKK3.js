import{b as g,j as e,L as f,a as m}from"./index-Djx856Py.js";import{r as i}from"./ui-libs-Cj6zJXYZ.js";import"./vendor-qkC6yhPU.js";const v=()=>{const[l,n]=i.useState([]),[x,c]=i.useState(!0),[d,r]=i.useState(null),{user:o}=g();i.useEffect(()=>{(async()=>{if(!o||!o.is_admin){r("Acceso denegado."),c(!1);return}try{c(!0);const t=await m.getAdminDashboardPanels();n(t),r(null)}catch(t){r("Error al cargar la configuración de los paneles."),console.error(t)}finally{c(!1)}})()},[o]);const h=async(s,t)=>{const u=l;n(l.map(a=>a.id===s?{...a,is_visible:t}:a));try{await m.updateDashboardPanel(s,t)}catch(a){r("Error al actualizar el panel."),console.error(a),n(u)}};return x?e.jsx(f,{text:"Cargando..."}):d?e.jsx("div",{className:"text-center p-8 text-red-500",children:d}):e.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Visibilidad de Paneles del Dashboard"}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:l.map(s=>e.jsxs("li",{className:"p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:s.subtitle||"Sin subtítulo"}),e.jsx("p",{className:"text-sm text-gray-500",children:s.title||"Sin título"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`mr-3 text-sm font-medium ${s.is_visible?"text-gray-900":"text-gray-400"}`,children:s.is_visible?"Visible":"Oculto"}),e.jsx("label",{htmlFor:`toggle-${s.id}`,className:"flex items-center cursor-pointer",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",id:`toggle-${s.id}`,className:"sr-only peer",checked:s.is_visible,onChange:t=>h(s.id,t.target.checked)}),e.jsx("div",{className:"block bg-gray-200 peer-checked:bg-green-500 w-14 h-8 rounded-full transition"}),e.jsx("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform transform peer-checked:translate-x-6"})]})})]})]},s.id))})})]})};export{v as default};
