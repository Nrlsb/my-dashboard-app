import{j as e,u as w,b as y,a as g,L as D,c as b}from"./index-CfGmEv7J.js";import{r as u,j as v,k as S,A as E,l as C,B as A,G as _,D as z,m as P,a as L}from"./ui-libs-BPe1M2wt.js";import"./vendor-qkC6yhPU.js";const O=({title:t,subTitle:o,icon:d,tag:i,onClick:c,isLast:h,...r})=>{const s=`${t||""} ${o||""}`.toUpperCase();let n="group-hover:bg-gray-50",l="",m="text-espint-blue bg-gray-50 group-hover:bg-white/20 group-hover:text-white group-hover:scale-110",a="text-espint-blue group-hover:text-espint-blue",x="text-gray-400 group-hover:text-gray-600";s.includes("PEDIDOS")?(n="group-hover:bg-espint-magenta",a="text-espint-blue group-hover:text-white",x="text-gray-400 group-hover:text-white/90"):s.includes("PRECIO")?(n="group-hover:bg-[#FFC20E]",a="text-espint-blue group-hover:text-white",x="text-gray-400 group-hover:text-white/90"):s.includes("CUENTA")||s.includes("SALDO")?(n="group-hover:bg-espint-blue",a="text-espint-blue group-hover:text-white",x="text-gray-400 group-hover:text-white/90"):s.includes("CONSULTA")||s.includes("CLIENTE")?(n="group-hover:bg-espint-magenta",a="text-espint-blue group-hover:text-white",x="text-gray-400 group-hover:text-white/90"):s.includes("OFERTAS")?(n="group-hover:bg-espint-green",l="hover:scale-110 z-20",a="text-espint-blue group-hover:text-white",x="text-gray-400 group-hover:text-white/90"):s.includes("PEDIDO")&&(n="group-hover:bg-espint-green",a="text-espint-blue group-hover:text-white",x="text-gray-400 group-hover:text-white/90");let f=t;(s.includes("NUEVO PEDIDO")||s.includes("PEDIDO")&&!s.includes("HISTORICO"))&&(f="CREAR PEDIDO");const j=s.includes("OFERTAS");return e.jsxs(e.Fragment,{children:[j&&e.jsx("style",{children:`
          @keyframes border-rotate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
          }
          .animate-border-custom {
            background-size: 200% 200%;
            animation: border-rotate 3s ease infinite;
          }
        `}),e.jsxs("div",{onClick:c,className:`
          group relative flex flex-col items-center justify-center p-6 h-48
          cursor-pointer transition-all duration-300 ease-out
          bg-transparent
          ${l}
          ${r.className||""}
        `,children:[j&&e.jsx("div",{className:"absolute -inset-[5px] rounded-[inherit] bg-[linear-gradient(90deg,#003366,#AACD46,#FFC20E,#EC008C,#003366)] animate-border-custom -z-20 blur-sm"}),e.jsx("div",{className:`absolute inset-0 rounded-[inherit] bg-white transition-colors duration-300 ${n} -z-10`}),i&&e.jsx("span",{className:"absolute top-3 right-3 px-2.5 py-1 text-[10px] font-bold text-white bg-espint-magenta rounded-full shadow-sm z-10 tracking-wide",children:i}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[e.jsx("div",{className:`p-4 rounded-2xl mb-4 transition-colors duration-300 ${m}`,children:e.jsx(d,{className:"w-8 h-8 transition-transform duration-300"})}),e.jsx("h3",{className:`text-xs font-bold tracking-widest uppercase mb-2 text-center transition-colors duration-300 ${x}`,children:f}),e.jsx("p",{className:`text-sm md:text-base font-bold text-center leading-tight px-2 transition-colors duration-300 ${a}`,children:o})]})]})]})},p=({className:t,...o})=>e.jsx("div",{className:`animate-pulse bg-gray-200 rounded-md ${t}`,...o}),$=()=>e.jsxs("div",{className:"flex-none w-full md:w-44 bg-white rounded-lg overflow-hidden border-b-[3px] border-gray-200 group flex flex-col h-auto aspect-square md:aspect-auto md:h-auto",children:[e.jsx(p,{className:"w-full h-32 md:h-32"}),e.jsx("div",{className:"p-3 md:p-4 flex-grow flex items-center justify-center md:block bg-white",children:e.jsx(p,{className:"h-4 w-3/4 mx-auto md:mx-0"})})]}),k=({title:t})=>e.jsxs("div",{className:"relative py-4 mt-8",children:[t&&e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:t}),e.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4",children:Array(6).fill(0).map((o,d)=>e.jsx($,{},d))})]}),I=()=>{const[t,o]=u.useState([]),[d,i]=u.useState(!0),[c,h]=u.useState(null),r=w(),{user:s}=y(),n=u.useCallback(async()=>{try{i(!0);const a=await g.getAccessories(),x=s&&s.restricted_groups?a.filter(f=>!s.restricted_groups.includes(f.group_code)):a;o(x),i(!1)}catch(a){h("No se pudieron cargar los accesorios."),console.error(a),i(!1)}},[s]);u.useEffect(()=>{n()},[n]);const l=a=>{r(`/product-detail/${a}`)};if(d&&t.length===0)return e.jsx(k,{title:"Accesorios"});if(c)return e.jsx("div",{className:"p-4 text-red-500",children:c});if(t.length===0)return null;const m=t.slice(0,5);return e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Accesorios"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:m.map(a=>e.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden transition-all duration-200 ease-in-out cursor-pointer hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group",onClick:()=>l(a.id),children:[e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-full h-32 object-contain p-2",referrerPolicy:"no-referrer",loading:"lazy"}),e.jsx("div",{className:"p-3",children:e.jsx("h3",{className:"text-sm font-bold text-espint-blue whitespace-nowrap truncate",children:a.name})})]},a.id))}),d&&e.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-gray-900/70 flex justify-center items-center z-10 rounded-lg",children:e.jsx(D,{text:"Cargando..."})})]})},R=()=>{const[t,o]=u.useState([]),[d,i]=u.useState(!0),[c,h]=u.useState(null),r=w();u.useEffect(()=>{(async()=>{try{i(!0);const m=await g.getProductGroupsDetails();o(m),i(!1)}catch(m){h("No se pudieron cargar los grupos de productos."),console.error(m),i(!1)}})()},[]);const s=l=>{l.type==="custom_collection"?r(`/collection/${l.collection_id}`):r(`/category/${l.group_code}`)};if(d)return e.jsx(k,{title:"Categorías"});if(c)return e.jsx("div",{className:"p-4 text-red-500",children:c});if(t.length===0)return null;const n=t.slice(0,5);return e.jsxs("div",{className:"relative py-4 mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue",children:"Categorías"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:n.map(l=>e.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden cursor-pointer transition-all duration-200 ease-in-out hover:-translate-y-1 shadow-sm hover:shadow-md border-b-[3px] border-espint-green group flex flex-col h-auto aspect-square md:aspect-auto md:h-auto",onClick:()=>s(l),children:[l.imageUrl?e.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-40 md:h-48 object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):e.jsx("div",{className:"w-full h-40 md:h-48 bg-[#183B64] flex items-center justify-center p-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-white opacity-80",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("div",{className:"p-3 md:p-4 flex-grow flex items-center justify-center md:block bg-white",children:e.jsx("h3",{className:"text-sm md:text-base font-bold text-espint-blue text-center md:text-left md:whitespace-nowrap md:overflow-hidden md:text-ellipsis line-clamp-2 md:line-clamp-1",children:l.name})})]},l.id||l.group_code))})]})},T=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 h-32 flex flex-col justify-between border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(p,{className:"h-4 w-24"}),e.jsx(p,{className:"h-3 w-16"})]}),e.jsx(p,{className:"h-8 w-8 rounded-full"})]}),e.jsx(p,{className:"h-5 w-12 rounded-full self-end"})]}),F=()=>e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6",children:Array(10).fill(0).map((t,o)=>e.jsx(T,{},o))}),N=({products:t})=>{const o=w(),[d,i]=u.useState(0),{data:c=[],isLoading:h}=b({queryKey:["new-releases-banner"],queryFn:()=>g.fetchNewReleases(),staleTime:1e3*60*5,enabled:!t}),r=t||c;if(u.useEffect(()=>{if(r.length<=1)return;const n=setInterval(()=>{i(l=>(l+1)%r.length)},5e3);return()=>clearInterval(n)},[r.length]),h)return e.jsx("div",{className:"w-full md:w-64 lg:w-72 h-[400px] md:h-auto md:flex-grow rounded-3xl bg-gray-100 animate-pulse flex items-center justify-center",children:e.jsx(v,{className:"w-8 h-8 text-gray-300"})});if(r.length===0)return e.jsxs("div",{onClick:()=>o("/new-releases"),className:`\r
                group cursor-pointer \r
                bg-gradient-to-b from-indigo-600 to-purple-700 \r
                text-white \r
                rounded-3xl p-6 \r
                shadow-lg hover:shadow-2xl \r
                transition-all duration-300 transform hover:scale-[1.02]\r
                flex flex-col items-center justify-center\r
                w-full md:w-64 lg:w-72\r
                h-[400px] md:h-auto md:flex-grow min-h-[500px]\r
                relative overflow-hidden\r
            `,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white opacity-5 rounded-3xl pointer-events-none"}),e.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm mb-4",children:e.jsx(v,{className:"w-8 h-8 text-yellow-300"})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Nuevos Lanzamientos"}),e.jsx("p",{className:"text-white/80 text-center text-sm",children:"Descubre las novedades"})]});const s=r[d];return e.jsxs("div",{onClick:()=>o(`/product-detail/${s.id}`),className:`\r
            group cursor-pointer \r
            bg-gradient-to-b from-indigo-600 to-purple-700 \r
            text-white \r
            rounded-3xl p-0 \r
            shadow-lg hover:shadow-2xl \r
            transition-all duration-300 transform hover:scale-[1.02]\r
            flex flex-col\r
            w-full md:w-64 lg:w-72\r
            h-[400px] md:h-auto md:flex-grow min-h-[500px]\r
            relative overflow-hidden\r
        `,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white opacity-5 pointer-events-none"}),e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-400 rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-opacity"}),e.jsx("div",{className:"absolute top-4 right-4 z-20",children:e.jsxs("span",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-3 py-1 rounded-full shadow-md flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),"NUEVO"]})}),e.jsx("div",{className:"w-full h-1/2 bg-white/10 p-6 flex items-center justify-center relative",children:s.custom_image_url||s.imageUrl?e.jsx("img",{src:s.custom_image_url||s.imageUrl,alt:s.name,className:"w-full h-full object-contain drop-shadow-xl transition-transform duration-500 group-hover:scale-110",referrerPolicy:"no-referrer"}):e.jsxs("div",{className:"flex flex-col items-center text-white/50",children:[e.jsx(S,{className:"w-16 h-16 mb-2"}),e.jsx("span",{className:"text-xs",children:"Sin imagen"})]})}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow relative z-10",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-xs font-medium text-white/70 uppercase tracking-wider",children:s.brand})}),e.jsx("h3",{className:"text-xl font-bold leading-tight mb-2 line-clamp-3",title:s.custom_title||s.name,children:s.custom_title||s.name}),e.jsx("p",{className:"text-sm text-white/80 line-clamp-2 mb-4",children:s.custom_description||s.capacityDesc||"Un nuevo producto destacado para ti."}),e.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:s.formattedPrice})}),e.jsx("div",{className:"bg-white/20 p-2 rounded-full backdrop-blur-sm group-hover:bg-white/30 transition-colors",children:e.jsx(E,{className:"w-5 h-5"})})]})]}),r.length>1&&e.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-20",children:r.map((n,l)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${l===d?"bg-white w-6":"bg-white/40"}`},l))})]})},U={ShoppingCart:L,Clock:P,DollarSign:z,Gift:_,Banknote:A,HelpCircle:C},q=()=>{const{user:t}=y(),o=w(),{data:d,isLoading:i,error:c}=b({queryKey:["dashboardPanels"],queryFn:()=>g.getDashboardPanels()}),{data:h=[]}=b({queryKey:["new-releases-banner"],queryFn:()=>g.fetchNewReleases(),staleTime:1e3*60*5});return i?e.jsx(F,{}):c?e.jsx("div",{className:"text-center p-8 text-red-500",children:"No se pudieron cargar los paneles del dashboard."}):e.jsx("div",{className:"flex flex-col md:flex-row w-full rounded-3xl shadow-xl bg-white relative z-0 mb-8",children:d.map((r,s)=>e.jsx(O,{title:r.title,subTitle:r.subtitle,icon:U[r.icon]||C,tag:r.tag,onClick:()=>o(`/${r.navigation_path.startsWith("/")?r.navigation_path.substring(1):r.navigation_path}`),className:"flex-1 border-b md:border-b-0 md:border-r border-gray-100 last:border-0 first:rounded-t-3xl md:first:rounded-tr-none md:first:rounded-l-3xl last:rounded-b-3xl md:last:rounded-bl-none md:last:rounded-r-3xl"},r.id))})},H=()=>{const{data:t=[]}=b({queryKey:["new-releases-banner"],queryFn:()=>g.fetchNewReleases(),staleTime:3e5});return e.jsx("div",{className:"font-sans",children:e.jsxs("main",{className:"p-2 md:p-4 w-full",children:[e.jsx(q,{}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mt-8",children:[t.length>0&&e.jsxs("div",{className:"flex-shrink-0 hidden md:flex md:flex-col mt-8 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-espint-blue break-words w-64 lg:w-72 leading-tight",children:"Nuevos Lanzamientos"}),e.jsx(N,{products:t})]}),t.length>0&&e.jsx("div",{className:"block md:hidden mb-4",children:e.jsx(N,{products:t})}),e.jsxs("div",{className:"flex-grow w-full min-w-0 space-y-8",children:[e.jsx(R,{}),e.jsx(I,{})]})]})]})})};export{H as default};
