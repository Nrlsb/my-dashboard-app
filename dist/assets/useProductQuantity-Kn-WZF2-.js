import{r as l}from"./ui-libs-B_T7o9er.js";const _=(a,f=1)=>{const e=Number(a?.stock_disponible)||0,c=a?.indicator_description,s=c!=null&&(String(c).trim()==="0"||Number(c)===0),n=Number(a?.pack_quantity)>0?Number(a.pack_quantity):1,u=()=>s&&e<=0?n:Math.max(1,f),[o,r]=l.useState(u());return l.useEffect(()=>{r(u())},[a?.id,a?.stock_disponible,a?.indicator_description,a?.pack_quantity]),{quantity:o,setQuantity:r,increment:()=>{r(t=>!s||t<e?t+1:t+n)},decrement:()=>{r(t=>{if(!s)return Math.max(1,t-1);if(t>e){const i=t-n;if(e>0){if(i<e)return e}else if(i<n)return n;return Math.max(e>0?e:n,i)}return Math.max(1,t-1)})},handleInputChange:t=>{const i=parseInt(t.target.value);isNaN(i)||r(i)},handleBlur:()=>{let t=o;if(t<1&&(t=1),!s){r(t);return}if(e<=0)t<n?t=n:t%n!==0&&(t=Math.ceil(t/n)*n);else if(t>e){const i=t-e,m=Math.ceil(i/n);t=e+m*n}r(t)},isRestricted:s,packQty:n,stock:e}};export{_ as u};
